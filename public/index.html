<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title></title>

  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">
  <script src="https://cdn.jsdelivr.net/npm/tone@14.7.39/build/Tone.min.js"></script>
  <!-- <script src ='https://cdn.jsdelivr.net/npm/nexusui@latest/dist/NexusUI.js'> </script>
  <script src ='https://cdn.jsdelivr.net/npm/nexusui@latest/dist/NexusUI.min.js'> </script>-->
  <meta name="theme-color" content="#fafafa">

  <script type="text/javascript">
    function isNumberKey(txt, evt) {
      var charCode = (evt.which) ? evt.which : evt.keyCode;
      if (charCode == 46) {
        //Check if the text already contains the . character
        if (txt.value.indexOf('.') === -1) {
          return true;
        } else {
          return false;
        }
      } else {
        if (charCode > 31 &&
          (charCode < 48 || charCode > 57))
          return false;
      }
      return true;
    }
  </script>

</head>

<body>

  <style>
  .control-panel {
    border : 1px solid #ddd;
    box-shadow : 1px 1px 1px 1px #eee;
  }

  form {
    width: 300px;

  }
  h2 {
    text-align: center;
    text-transform: uppercase;
    letter-spacing: 0.05em;

  }
  *, *::after, *::before {
    box-sizing: border-box;
  }

  .column {
  float: left;
  width: 50%;
  }

  .row:after {
  content: "";
  display: table;
  clear: both;
  }

  </style>
  <!--[if IE]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->

  <!-- Add your site or application content here -->
  <div class="row">
    <div class="column">
      <h2> Input Parameters</h2>
      <div class="input-param">
        <form id="input-param-form">
          <label class="custom-input">
            Temperature
            <input id="temp" type="text" onkeypress="return isNumberKey(this, event);" placeholder=" Value less than 1 is desriable"/>
          </label>
          <label class="custom-input-2">
            Time Signature <br>
            <input id="time-sig-num" type="number" min="1" value="4"> <span> &#47;</span> <input id="time-sig-den" type="number" min="1" name="value" value="4">
          </label>
          <label class="custom-input">
            Number of Bars
            <input id="numOfBars" type="number" min="8" max="40" value="16"/>
          </label>
          <label class="custom-selector">
            Valence
            <select id="valence">
              <option value="-2">-2</option>
              <option value="-1">-1</option>
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2" selected>2</option>
            </select>
          </label>

        </form>
      </div>
      <div class="center-param">
      <button onclick="save_param()" id="generate" class="btn"> Generate </button>
      <button onclick="play_file()" id="play" class="btn"> Play </button>
    </div>
  </div>
  <div class="column">
    <div id="param_p"></div>
    <div id="osmdContainer"/>
    <script src="https://unpkg.com/opensheetmusicdisplay@0.8.3/build/opensheetmusicdisplay.min.js"> </script>
    <script>
      var osmd = new opensheetmusicdisplay.OpenSheetMusicDisplay("osmdContainer");
      osmd.setOptions({
        backend: "svg",
        drawTitle: true,
        // drawingParameters: "compacttight" // don't display title, composer etc., smaller margins
        });
      osmd
        .load("http://localhost:8080/Saltarello_sample.musicxml")
        .then(
          function() {
            osmd.render();});
    </script>
  </div>
 
<!--<div class="control-panel">

  <button id="start">
    Start
  </button>

  <label>
    BPM <input id = "bpm" type="range" min = "30" max="150" value="120">
  </label>

</div>
<div id = 'sequencer'></div> -->

<!--  <button id="bass">-->
<!--    Bass-->
<!--  </button>-->

  <script src="https://cdn.jsdelivr.net/npm/tone@14.7.39/build/Tone.min.js"></script>
  <script src="js/vendor/modernizr-3.8.0.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="js/vendor/jquery-3.4.1.min.js"><\/script>')</script>
  <script src="js/plugins.js"></script>
  <script src="js/main.js"></script>

  <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-XXXXX-Y', 'auto'); ga('set','transport','beacon'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async></script>
</body>

</html>
